import _ from 'lodash';

// NOTE
// To traverse horizontal pattern
// [y][x + i] where i < col_size
// To traverse vertical pattern
// [y + i][x] where i < row_size
// To traverse diagonal_1 pattern
// [y + i][x - i] where i < diagonal_row.length
// To traverse diagonal_2 pattern
// [y + i][x + i] where i < diagonal_row.length


// Board setting
export const BOARD_SIZE = 19;
export const DIAGONAL_ROW_SIZE = BOARD_SIZE + BOARD_SIZE - 1;
export const CELL_SIZE = 3;
export const CONNECT_N = 5;

// AI setting
export const TAKE_BEST_N = 3;
export const DEPTH = 3;

export const demoBoard = [
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', 'X', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', 'X', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', 'X', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
  ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
]

export const patterns = {
  // 'win': [
  //   [1, 1, 1, 1, 1]
  // ],
  'double_open4': [
    [0, 1, 1, 1, 1, 0]
  ],
  // 'open4': [
  //   [1, 1, 1, 1, 0],
  //   [1, 1, 1, 0, 1],
  //   [1, 1, 0, 1, 1],
  //   [1, 0, 1, 1, 1],
  //   [0, 1, 1, 1, 1]
  // ],
  'double_open3': [
    [0, 1, 1, 1, 0]
  ],
  'broken3': [
    [0, 1, 0, 1, 1, 0],
    [0, 1, 1, 0, 1, 0],
    [0, 1, 0, 0, 1, 1, 0],
    [0, 1, 1, 0, 0, 1, 0]
  ],
  'covered3': [
    [1, 1, 1, 0, 0],
    [0, 0, 1, 1, 1],
    [1, 0, 1, 1, 0],
    [0, 1, 1, 0, 1],
    [1, 0, 0, 1, 1],
    [1, 1, 0, 0, 1],
    [1, 1, 0, 1, 0],
    [0, 1, 0, 1, 1],
    [1, 0, 1, 0, 1]
  ],
  'open2': [
    [0, 1, 1, 0, 0],
    [0, 0, 1, 1, 0],
    [0, 1, 0, 1, 0],
    [0, 1, 0, 0, 1, 0]
  ],
  'convered2': [
    [1, 1, 0, 0, 0],
    [0, 0, 0, 1, 1],
    [1, 0, 1, 0, 0],
    [0, 0, 1, 0, 1],
    [1, 0, 0, 1, 0],
    [0, 1, 0, 0, 1]
  ],
  // 'open1': [
  //   [0, 0, 1, 0, 0],
  // ],
  'close1': [
    [1, 0],
    [0, 1]
  ]
}

export const SCORE = {
  'win': 100,
  'double_open4': 90,
  'open4': 80,
  'double_open3': 70,
  'broken3': 60,
  'covered3': 50,
  'open2': 40,
  'convered2': 30,
  'open1': 20,
  'close1': 10
}

export const getCoordinateId = (y, x) => {
  const xArray = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's'];
  return `${y}${xArray[x]}`;
}

export const createBoard = () => {
  return (
    Array.from(new Array(BOARD_SIZE), () =>
      new Array(BOARD_SIZE).fill('')
    )
  );
  // return demoBoard;
}
